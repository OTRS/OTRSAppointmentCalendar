<?xml version="1.0" encoding="utf-8" ?>
<otrs_config version="1.0" init="Config">
    <ConfigItem Name="PublicFrontend::Module###PublicCalendar" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Public::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description>PublicCalendar</Description>
                <Title>PublicCalendar</Title>
                <NavBarName></NavBarName>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentCalendarOverview" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Appointment Calendar overview page.</Description>
                <Title Translatable="1">Overview</Title>
                <NavBarName>Calendar</NavBarName>
                <NavBar>
                    <Name Translatable="1">Calendar</Name>
                    <Link>Action=AgentAppointmentCalendarOverview</Link>
                    <LinkOption></LinkOption>
                    <NavBar>Calendar</NavBar>
                    <Type>Menu</Type>
                    <Block>ItemArea</Block>
                    <AccessKey></AccessKey>
                    <Prio>75</Prio>
                </NavBar>
                <NavBar>
                    <Description Translatable="1">Appointment Calendar overview page.</Description>
                    <Name Translatable="1">Calendar Overview</Name>
                    <Link>Action=AgentAppointmentCalendarOverview</Link>
                    <LinkOption></LinkOption>
                    <NavBar>Calendar</NavBar>
                    <Type></Type>
                    <Block>ItemArea</Block>
                    <AccessKey></AccessKey>
                    <Prio>6000</Prio>
                </NavBar>
                <NavBar>
                    <Description Translatable="1">Create new appointment.</Description>
                    <Name Translatable="1">New Appointment</Name>
                    <Link>Action=AgentAppointmentCalendarOverview;Subaction=AppointmentCreate</Link>
                    <LinkOption></LinkOption>
                    <NavBar>Calendar</NavBar>
                    <Type></Type>
                    <Block>ItemArea</Block>
                    <AccessKey></AccessKey>
                    <Prio>8000</Prio>
                </NavBar>
                <Loader>
                    <CSS>thirdparty/fullcalendar-2.6.1/fullcalendar.min.css</CSS>
                    <CSS>thirdparty/fullcalendar-scheduler-1.2.1/scheduler.min.css</CSS>
                    <CSS>Core.AppointmentCalendar.css</CSS>
                    <JavaScript>thirdparty/momentjs-2.10.6/moment.min.js</JavaScript>
                    <JavaScript>thirdparty/fullcalendar-2.6.1/fullcalendar.min.js</JavaScript>
                    <JavaScript>thirdparty/fullcalendar-scheduler-1.2.1/scheduler.min.js</JavaScript>
                    <JavaScript>Core.Agent.AppointmentCalendar.js</JavaScript>
                    <JavaScript>thirdparty/clipboard.js-1.5.10/clipboard.min.js</JavaScript>
                </Loader>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentResourceOverview" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Resource overview screen.</Description>
                <Title Translatable="1">Resource Overview</Title>
                <NavBarName>Calendar</NavBarName>
                <NavBar>
                    <Description Translatable="1">Resource overview page.</Description>
                    <Name Translatable="1">Resource Overview</Name>
                    <Link>Action=AgentAppointmentResourceOverview</Link>
                    <LinkOption></LinkOption>
                    <NavBar>Calendar</NavBar>
                    <Type></Type>
                    <Block>ItemArea</Block>
                    <AccessKey></AccessKey>
                    <Prio>7000</Prio>
                </NavBar>
                <Loader>
                    <CSS>thirdparty/fullcalendar-2.6.1/fullcalendar.min.css</CSS>
                    <CSS>thirdparty/fullcalendar-scheduler-1.2.1/scheduler.min.css</CSS>
                    <CSS>Core.AppointmentCalendar.css</CSS>
                    <CSS>Core.AllocationList.css</CSS>
                    <JavaScript>thirdparty/momentjs-2.10.6/moment.min.js</JavaScript>
                    <JavaScript>thirdparty/fullcalendar-2.6.1/fullcalendar.min.js</JavaScript>
                    <JavaScript>thirdparty/fullcalendar-scheduler-1.2.1/scheduler.min.js</JavaScript>
                    <JavaScript>Core.Agent.AppointmentCalendar.js</JavaScript>
                    <JavaScript>Core.UI.AllocationList.js</JavaScript>
                    <JavaScript>Core.Agent.TableFilters.js</JavaScript>
                    <JavaScript>thirdparty/clipboard.js-1.5.10/clipboard.min.js</JavaScript>
                </Loader>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentEdit" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Appointment edit screen.</Description>
                <Title Translatable="1">Edit appointment</Title>
                <NavBarName></NavBarName>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentList" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Appointment list.</Description>
                <Title Translatable="1">Appointment list</Title>
                <NavBarName></NavBarName>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentPluginSearch" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Plugin search module for autocomplete.</Description>
                <Title Translatable="1">Plugin search</Title>
                <NavBarName></NavBarName>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentTeamList" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Resources list.</Description>
                <Title Translatable="1">Team list</Title>
                <NavBarName></NavBarName>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentCalendarManage" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Calendar manage screen.</Description>
                <Title Translatable="1">Manage Calendars</Title>
                <NavBarName>Calendar</NavBarName>
                <NavBar>
                    <Description Translatable="1">Manage different calendars.</Description>
                    <Name Translatable="1">Manage Calendars</Name>
                    <Link>Action=AgentAppointmentCalendarManage</Link>
                    <LinkOption></LinkOption>
                    <NavBar>Calendar</NavBar>
                    <Type></Type>
                    <Block>ItemArea</Block>
                    <AccessKey></AccessKey>
                    <Prio>9000</Prio>
                </NavBar>
                <Loader>
                    <CSS>Core.AppointmentCalendar.Manage.css</CSS>
                    <CSS>thirdparty/spectrum-1.8.0/spectrum.css</CSS>
                    <JavaScript>thirdparty/clipboard.js-1.5.10/clipboard.min.js</JavaScript>
                    <JavaScript>thirdparty/spectrum-1.8.0/spectrum.js</JavaScript>
                </Loader>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentTeam" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Team management screen.</Description>
                <Title Translatable="1">Manage Teams</Title>
                <NavBarName>Calendar</NavBarName>
                <NavBar>
                    <Group>admin</Group>
                    <Description Translatable="1">Team management.</Description>
                    <Name Translatable="1">Manage Teams</Name>
                    <Link>Action=AgentAppointmentTeam</Link>
                    <LinkOption></LinkOption>
                    <NavBar>Calendar</NavBar>
                    <Type></Type>
                    <Block>ItemArea</Block>
                    <AccessKey></AccessKey>
                    <Prio>11000</Prio>
                </NavBar>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentTeamUser" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Team agents management screen.</Description>
                <Title Translatable="1">Manage Team Agents</Title>
                <NavBarName>Calendar</NavBarName>
                <NavBar>
                    <Group>admin</Group>
                    <Description Translatable="1">Manage team agents.</Description>
                    <Name Translatable="1">Manage Team Agents</Name>
                    <Link>Action=AgentAppointmentTeamUser</Link>
                    <LinkOption></LinkOption>
                    <NavBar>Calendar</NavBar>
                    <Type></Type>
                    <Block>ItemArea</Block>
                    <AccessKey></AccessKey>
                    <Prio>13000</Prio>
                </NavBar>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Frontend::Module###AgentAppointmentCalendarImport" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::ModuleRegistration</SubGroup>
        <Setting>
            <FrontendModuleReg>
                <Description Translatable="1">Import Calendar screen.</Description>
                <Title Translatable="1">Import Calendar</Title>
                <NavBarName>Calendar</NavBarName>
            </FrontendModuleReg>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="AppointmentCalendar::CalendarLimitOverview" Required="0" Valid="1">
        <Description Translatable="1">Maximum number of active calendars in overview screens. Please note that large number of active calendars can have a performance impact on your server by making too much simultaneous calls.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Core::AppointmentCalendar</SubGroup>
        <Setting>
            <String Regex="\d+">10</String>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="AppointmentCalendar::CalendarColors" Required="0" Valid="1">
        <Description Translatable="1">List of colors in hexadecimal RGB which will be available for selection during calendar creation. Make sure the colors are dark enough so white text can be overlayed on them.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Core::AppointmentCalendar</SubGroup>
        <Setting>
            <Array>
                <Item>#000000</Item>
                <Item>#1E1E1E</Item>
                <Item>#3A3A3A</Item>
                <Item>#545453</Item>
                <Item>#6E6E6E</Item>
                <Item>#878687</Item>
                <Item>#888787</Item>
                <Item>#A09FA0</Item>
                <Item>#B8B8B8</Item>
                <Item>#D0D0D0</Item>
                <Item>#E8E8E8</Item>
                <Item>#FFFFFF</Item>
                <Item>#891100</Item>
                <Item>#894800</Item>
                <Item>#888501</Item>
                <Item>#458401</Item>
                <Item>#028401</Item>
                <Item>#018448</Item>
                <Item>#008688</Item>
                <Item>#004A88</Item>
                <Item>#001888</Item>
                <Item>#491A88</Item>
                <Item>#891E88</Item>
                <Item>#891648</Item>
                <Item>#FF2101</Item>
                <Item>#FF8802</Item>
                <Item>#FFFA03</Item>
                <Item>#83F902</Item>
                <Item>#05F802</Item>
                <Item>#03F987</Item>
                <Item>#00FDFF</Item>
                <Item>#008CFF</Item>
                <Item>#002EFF</Item>
                <Item>#8931FF</Item>
                <Item>#FF39FF</Item>
                <Item>#FF2987</Item>
                <Item>#FF726E</Item>
                <Item>#FFCE6E</Item>
                <Item>#FFFB6D</Item>
                <Item>#CEFA6E</Item>
                <Item>#68F96E</Item>
                <Item>#68FDFF</Item>
                <Item>#68FBD0</Item>
                <Item>#6ACFFF</Item>
                <Item>#6E76FF</Item>
                <Item>#D278FF</Item>
                <Item>#FF7AFF</Item>
                <Item>#FF7FD3</Item>
            </Array>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="AppointmentCalendar::Backend" Required="1" Valid="1">
        <Description Translatable="1">Defines which backend should be used for managing calendars.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Core::AppointmentCalendar</SubGroup>
        <Setting>
            <Option SelectedID="CalDav">
                <Item Key="CalDav" Translatable="1">CalDav</Item>
            </Option>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="AppointmentCalendar::Plugin###0100-Ticket" Required="0" Valid="1">
        <Description Translatable="1">Defines the ticket plugin for calendar appointments.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Core::AppointmentCalendar::Plugin</SubGroup>
        <Setting>
            <Hash>
                <Item Key="Module">Kernel::System::Calendar::Plugin::Ticket</Item>
                <Item Key="Name" Translatable="1">Ticket</Item>
                <Item Key="URL">&lt;OTRS_CONFIG_HttpType&gt;://&lt;OTRS_CONFIG_FQDN&gt;/&lt;OTRS_CONFIG_ScriptAlias&gt;index.pl?Action=AgentTicketZoom;TicketID=%s</Item>
            </Hash>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="LinkObject::PossibleLink###1200" Required="0" Valid="1">
        <Description Translatable="1">Links appointments and tickets with a "Normal" type link.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Core::LinkObject</SubGroup>
        <Setting>
            <Hash>
                <Item Key="Object1">Appointment</Item>
                <Item Key="Object2">Ticket</Item>
                <Item Key="Type">Normal</Item>
            </Hash>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="AppointmentCalendar::Import::RecurringMonthsLimit" Required="1" Valid="1">
        <Description Translatable="1">OTRS doesn't support recurring Appointments without end date or number of iterrations. During import process, it might happen that ICS file contains such Appointments. Instead, system creates all Appointments in the past, plus Appointments for the next n months(120 months/10 years by default).</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Core::AppointmentCalendar</SubGroup>
        <Setting>
            <String Regex="\d+">120</String>
        </Setting>
    </ConfigItem>

    <!-- event notifications -->

    <ConfigItem Name="Frontend::Admin::AdminNotificationEvent###EventObjectTypes" Required="0" Valid="1">
        <Description Translatable="1">Defines the event object types that will be handled via AdminNotificationEvent.</Description>
        <Group>Ticket</Group>
        <SubGroup>Frontend::Admin::AdminNotificationEvent</SubGroup>
        <Setting>
            <Array>
                <Item>Ticket</Item>
                <Item>Article</Item>
                <Item>Appointment</Item>
            </Array>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Events###Appointment" Required="1" Valid="1">
        <Description Translatable="1">List of all appointment events to be displayed in the GUI.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Admin</SubGroup>
        <Setting>
            <Array>
                <Item>AppointmentStart</Item>
                <Item>AppointmentEnd</Item>
            </Array>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="AppointmentCalendar::EventModulePost###100-Notification" Required="0" Valid="1">
        <Description Translatable="1">Appointment calendar event module that prepares notification entries for appointments.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Core::AppointmentCalendar::Event</SubGroup>
        <Setting>
            <Hash>
                <Item Key="Module">Kernel::System::Calendar::Event::Notification</Item>
                <Item Key="Event">(AppointmentCreate|AppointmentUpdate|AppointmentDelete)</Item>
            </Hash>
        </Setting>
    </ConfigItem>

    <!-- Dashboard Widget -->
    <ConfigItem Name="DashboardBackend###0500-AppointmentCalendar" Required="0" Valid="1">
        <Description Translatable="1">Defines the parameters for the dashboard backend. "Limit" defines the number of entries displayed by default. "Group" is used to restrict access to the plugin (e. g. Group: admin;group1;group2;). "Default" indicates if the plugin is enabled by default or if the user needs to enable it manually. "CacheTTLLocal" defines the cache expiration period in minutes for the plugin.</Description>
        <Group>Framework</Group>
        <SubGroup>Frontend::Agent::Dashboard</SubGroup>
        <Setting>
            <Hash>
                <Item Key="Module">Kernel::Output::HTML::Dashboard::AppointmentCalendar</Item>
                <Item Key="Title" Translatable="1">Appointments</Item>
                <Item Key="Description"></Item>
                <Item Key="ShowEmail">0</Item>
                <Item Key="IdleMinutes">60</Item>
                <Item Key="SortBy">UserFullname</Item>
                <Item Key="Filter">Today</Item>
                <Item Key="Block">ContentSmall</Item>
                <Item Key="Limit">10</Item>
                <Item Key="Group"></Item>
                <Item Key="Default">0</Item>
                <Item Key="CacheTTLLocal">5</Item>
            </Hash>
        </Setting>
    </ConfigItem>

    <!-- appointment creation linked to external objects -->

    <ConfigItem Name="Ticket::Frontend::MenuModule###550-Appointment" Required="0" Valid="1">
        <Description Translatable="1">Shows a link in the menu for creating a calendar appointment linked to the ticket directly from the ticket zoom view of the agent interface. Additional access control to show or not show this link can be done by using Key "Group" and Content like "rw:group1;move_into:group2". To cluster menu items use for Key "ClusterName" and for the Content any name you want to see in the UI. Use "ClusterPriority" to configure the order of a certain cluster within the toolbar.</Description>
        <Group>OTRSAppointmentCalendar</Group>
        <SubGroup>Frontend::Agent::Ticket::MenuModule</SubGroup>
        <Setting>
            <Hash>
                <Item Key="Module">Kernel::Output::HTML::TicketMenu::Generic</Item>
                <Item Key="Name" Translatable="1">New Appointment</Item>
                <Item Key="Description" Translatable="1">Create a new calendar appointment linked to this ticket</Item>
                <Item Key="Action">AgentAppointmentCalendarOverview</Item>
                <Item Key="Link">Action=AgentAppointmentCalendarOverview;Subaction=AppointmentCreate;PluginKey=0100-Ticket;ObjectID=[% Data.TicketID | uri %]</Item>
                <Item Key="Target"></Item>
                <Item Key="PopupType"></Item>
                <Item Key="ClusterName" Translatable="1">Miscellaneous</Item>
                <Item Key="ClusterPriority">800</Item>
            </Hash>
        </Setting>
    </ConfigItem>
</otrs_config>
